(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function j(){}function Ot(t){return t()}function yt(){return Object.create(null)}function H(t){t.forEach(Ot)}function dt(t){return typeof t=="function"}function Pt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Tt(t){return Object.keys(t).length===0}function jt(t,...e){if(t==null)return j;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function I(t,e,n){t.$$.on_destroy.push(jt(e,n))}function Y(t,e,n){return t.set(n),e}function y(t,e){t.appendChild(e)}function ht(t,e,n){t.insertBefore(e,n||null)}function et(t){t.parentNode&&t.parentNode.removeChild(t)}function z(t){return document.createElement(t)}function It(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function W(t){return document.createTextNode(t)}function D(){return W(" ")}function F(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Dt(t){return t===""?null:+t}function Jt(t){return Array.from(t.childNodes)}function bt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function wt(t,e){t.value=e??""}class Yt{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,r=null){this.e||(this.is_svg?this.e=It(n.nodeName):this.e=z(n.nodeName),this.t=n,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)ht(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(et)}}let pt;function K(t){pt=t}const B=[],vt=[],tt=[],St=[],Xt=Promise.resolve();let it=!1;function Wt(){it||(it=!0,Xt.then(Lt))}function lt(t){tt.push(t)}const nt=new Set;let Z=0;function Lt(){const t=pt;do{for(;Z<B.length;){const e=B[Z];Z++,K(e),Ht(e.$$)}for(K(null),B.length=0,Z=0;vt.length;)vt.pop()();for(let e=0;e<tt.length;e+=1){const n=tt[e];nt.has(n)||(nt.add(n),n())}tt.length=0}while(B.length);for(;St.length;)St.pop()();it=!1,nt.clear(),K(t)}function Ht(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}const Rt=new Set;function qt(t,e){t&&t.i&&(Rt.delete(t),t.i(e))}function Vt(t,e){t.d(1),e.delete(t.key)}function Bt(t,e,n,r,o,s,l,c,u,i,h,f){let d=t.length,p=s.length,g=d;const A={};for(;g--;)A[t[g].key]=g;const v=[],a=new Map,S=new Map;for(g=p;g--;){const m=f(o,s,g),b=n(m);let w=l.get(b);w?r&&w.p(m,e):(w=i(b,m),w.c()),a.set(b,v[g]=w),b in A&&S.set(b,Math.abs(g-A[b]))}const C=new Set,$=new Set;function N(m){qt(m,1),m.m(c,h),l.set(m.key,m),h=m.first,p--}for(;d&&p;){const m=v[p-1],b=t[d-1],w=m.key,O=b.key;m===b?(h=m.first,d--,p--):a.has(O)?!l.has(w)||C.has(w)?N(m):$.has(O)?d--:S.get(w)>S.get(O)?($.add(w),N(m)):(C.add(O),d--):(u(b,l),d--)}for(;d--;){const m=t[d];a.has(m.key)||u(m,l)}for(;p;)N(v[p-1]);return v}function Kt(t,e,n,r){const{fragment:o,after_update:s}=t.$$;o&&o.m(e,n),r||lt(()=>{const l=t.$$.on_mount.map(Ot).filter(dt);t.$$.on_destroy?t.$$.on_destroy.push(...l):H(l),t.$$.on_mount=[]}),s.forEach(lt)}function Ut(t,e){const n=t.$$;n.fragment!==null&&(H(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Qt(t,e){t.$$.dirty[0]===-1&&(B.push(t),Wt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Zt(t,e,n,r,o,s,l,c=[-1]){const u=pt;K(t);const i=t.$$={fragment:null,ctx:[],props:s,update:j,not_equal:o,bound:yt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:yt(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};l&&l(i.root);let h=!1;if(i.ctx=n?n(t,e.props||{},(f,d,...p)=>{const g=p.length?p[0]:d;return i.ctx&&o(i.ctx[f],i.ctx[f]=g)&&(!i.skip_bound&&i.bound[f]&&i.bound[f](g),h&&Qt(t,f)),d}):[],i.update(),h=!0,H(i.before_update),i.fragment=r?r(i.ctx):!1,e.target){if(e.hydrate){const f=Jt(e.target);i.fragment&&i.fragment.l(f),f.forEach(et)}else i.fragment&&i.fragment.c();e.intro&&qt(t.$$.fragment),Kt(t,e.target,e.anchor,e.customElement),Lt()}K(u)}class te{$destroy(){Ut(this,1),this.$destroy=j}$on(e,n){if(!dt(n))return j;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Tt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ct=["height","temperature","humidity"],ot=new Map([["Water",[0,28,80]],["Grass",[124,252,0]],["Sand",[194,178,128]]]);function ee(t,e,n){return Math.max(t,Math.min(e,n))}ee.bind(null,-1,1);function mt(t,e){const n=localStorage.getItem(e);return n!==null&&t.set(JSON.parse(n)),t.subscribe(r=>localStorage.setItem(e,JSON.stringify(r))),t}function xt(t){return JSON.stringify(ct.reduce((e,n)=>({...e,[n]:t.get(n).toString().slice(2,4)}),{}),null,2)}function ne(t){return(t+1)/2}function Mt(t,e){return Math.floor(t*e)}function $t(t,...e){const n=e.length,r=1/(n-1);let o=Math.floor(t/r),s=o+1;s>=n&&(s=o);const l=o*r,c=s*r,u=e[o],i=e[s],h=(t-l)/(c-l);return(1-h)*u+h*i}function oe([t,e,n]){return(Math.atan2(Math.sqrt(3)*(e-n),2*t-e-n)*180/Math.PI+360)%360}function*kt(t,e=1){for(let n=t.y-e,r=t.y+e;n<=r;n++)for(let o=t.x-e,s=t.x+e;o<=s;o++)yield{x:o,y:n}}function At(t){const e=t.get("height"),n=t.get("temperature"),r=t.get("humidity"),o=oe(ot.get("Water").map((c,u)=>$t(r,ot.get("Sand")[u],ot.get("Grass")[u],c))),s=Mt(n,100),l=Mt($t(e,.3,.8),100);return`hsl(${o},${s}%,${l}%)`}const U=20,ut=1,X=[];function re(t,e){return{subscribe:R(t,e).subscribe}}function R(t,e=j){let n;const r=new Set;function o(c){if(Pt(t,c)&&(t=c,n)){const u=!X.length;for(const i of r)i[1](),X.push(i,t);if(u){for(let i=0;i<X.length;i+=2)X[i][0](X[i+1]);X.length=0}}}function s(c){o(c(t))}function l(c,u=j){const i=[c,u];return r.add(i),r.size===1&&(n=e(o)||j),c(t),()=>{r.delete(i),r.size===0&&(n(),n=null)}}return{set:o,update:s,subscribe:l}}function Ft(t,e,n){const r=!Array.isArray(t),o=r?[t]:t,s=e.length<2;return re(n,l=>{let c=!1;const u=[];let i=0,h=j;const f=()=>{if(i)return;h();const p=e(r?u[0]:u,l);s?l(p):h=dt(p)?p:j},d=o.map((p,g)=>jt(p,A=>{u[g]=A,i&=~(1<<g),c&&f()},()=>{i|=1<<g}));return c=!0,f(),function(){H(d),h()}})}var se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ft={},ie={get exports(){return ft},set exports(t){ft=t}};(function(t,e){(function(n,r){t.exports=r()})(se,function(){return n.importState=function(o){var s=new n;return s.importState(o),s},n;function n(){return function(o){var s=0,l=0,c=0,u=1;o.length==0&&(o=[+new Date]);var i=r();s=i(" "),l=i(" "),c=i(" ");for(var h=0;h<o.length;h++)s-=i(o[h]),s<0&&(s+=1),l-=i(o[h]),l<0&&(l+=1),c-=i(o[h]),c<0&&(c+=1);i=null;var f=function(){var d=2091639*s+u*23283064365386963e-26;return s=l,l=c,c=d-(u=d|0)};return f.next=f,f.uint32=function(){return f()*4294967296},f.fract53=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.version="Alea 0.9",f.args=o,f.exportState=function(){return[s,l,c,u]},f.importState=function(d){s=+d[0]||0,l=+d[1]||0,c=+d[2]||0,u=+d[3]||0},f}(Array.prototype.slice.call(arguments))}function r(){var o=4022871197,s=function(l){l=l.toString();for(var c=0;c<l.length;c++){o+=l.charCodeAt(c);var u=.02519603282416938*o;o=u>>>0,u-=o,u*=o,o=u>>>0,u-=o,o+=u*4294967296}return(o>>>0)*23283064365386963e-26};return s.version="Mash 0.9",s}})})(ie);const le=ft,ce=.5*(Math.sqrt(3)-1),V=(3-Math.sqrt(3))/6,Nt=t=>Math.floor(t)|0,zt=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function ue(t=Math.random){const e=fe(t),n=new Float64Array(e).map(o=>zt[o%12*2]),r=new Float64Array(e).map(o=>zt[o%12*2+1]);return function(s,l){let c=0,u=0,i=0;const h=(s+l)*ce,f=Nt(s+h),d=Nt(l+h),p=(f+d)*V,g=f-p,A=d-p,v=s-g,a=l-A;let S,C;v>a?(S=1,C=0):(S=0,C=1);const $=v-S+V,N=a-C+V,m=v-1+2*V,b=a-1+2*V,w=f&255,O=d&255;let G=.5-v*v-a*a;if(G>=0){const P=w+e[O],L=n[P],q=r[P];G*=G,c=G*G*(L*v+q*a)}let k=.5-$*$-N*N;if(k>=0){const P=w+S+e[O+C],L=n[P],q=r[P];k*=k,u=k*k*(L*$+q*N)}let M=.5-m*m-b*b;if(M>=0){const P=w+1+e[O+1],L=n[P],q=r[P];M*=M,i=M*M*(L*m+q*b)}return 70*(c+u+i)}}function fe(t){const n=new Uint8Array(512);for(let r=0;r<512/2;r++)n[r]=r;for(let r=0;r<512/2-1;r++){const o=r+~~(t()*(256-r)),s=n[r];n[r]=n[o],n[o]=s}for(let r=256;r<512;r++)n[r]=n[r-256];return n}const T=mt(R(1),"zoom"),rt=mt(R({x:0,y:0}),"position");T.subscribe(t=>{if(t<ut)return T.set(ut);if(t>U)return T.set(U)});const ae=Ft([T],([t])=>t*2+1),at=mt(R(Math.random().toString(36).slice(2)),"seed"),de=Ft([at],([t])=>{const e=ct.map(n=>ue(le(t+n)));return function(n){return e.reduce((r,o,s)=>r.set(ct[s],ne(o(n.x,n.y))),new Map)}}),Gt=R(19.297),st=R(!1);T.subscribe(()=>{let t=window.document.querySelector("li");t&&Gt.set(parseFloat(window.getComputedStyle(t).width))});function Ct(t,e,n){const r=t.slice();return r[14]=e[n],r}function Et(t,e){let n,r,o;return{key:t,first:null,c(){n=z("li"),E(n,"style",r=`--color:${At(e[4](e[14]))};`),E(n,"title",o=xt(e[4](e[14]))),E(n,"class","svelte-1mn2nfr"),this.first=n},m(s,l){ht(s,n,l)},p(s,l){e=s,l&22&&r!==(r=`--color:${At(e[4](e[14]))};`)&&E(n,"style",r),l&22&&o!==(o=xt(e[4](e[14])))&&E(n,"title",o)},d(s){s&&et(n)}}}function he(t){let e,n,r,o,s,l=U-t[2]+1+"",c,u,i,h,f,d,p,g=t[0].replace(/\s/g,"&nbsp;")+"",A,v,a,S,C,$=JSON.stringify(t[1])+"",N,m,b,w,O,G,k,M=[],P=new Map,L,q,gt,Q=Array.from(kt(t[1],t[2]));const _t=_=>`${_[14].x},${_[14].y}`;for(let _=0;_<Q.length;_+=1){let x=Ct(t,Q,_),J=_t(x);P.set(J,M[_]=Et(J,x))}return{c(){e=z("main"),n=z("header"),r=z("label"),o=W("zoom: "),s=z("output"),c=W(l),u=D(),i=z("input"),h=D(),f=z("span"),d=W("Seed: "),p=new Yt(!1),A=D(),v=z("button"),v.textContent="change",a=D(),S=z("span"),C=W(`Position:
      `),N=W($),m=D(),b=z("button"),b.textContent="reset",w=D(),O=z("hr"),G=D(),k=z("ol");for(let _=0;_<M.length;_+=1)M[_].c();E(i,"type","range"),E(i,"min",ut),E(i,"max",U),p.a=A,E(n,"class","svelte-1mn2nfr"),E(k,"style",L=`--grid-columns:${t[3]};`),E(k,"class","svelte-1mn2nfr")},m(_,x){ht(_,e,x),y(e,n),y(n,r),y(r,o),y(r,s),y(s,c),y(r,u),y(r,i),wt(i,t[2]),y(n,h),y(n,f),y(f,d),p.m(g,f),y(f,A),y(f,v),y(n,a),y(n,S),y(S,C),y(S,N),y(S,m),y(S,b),y(e,w),y(e,O),y(e,G),y(e,k);for(let J=0;J<M.length;J+=1)M[J].m(k,null);q||(gt=[F(window,"wheel",t[5]),F(window,"pointerup",t[8]),F(window,"blur",t[8]),F(window,"pointermove",t[6]),F(i,"change",t[11]),F(i,"input",t[11]),F(v,"click",t[10]),F(b,"click",t[9]),F(k,"pointerdown",t[7])],q=!0)},p(_,[x]){x&4&&l!==(l=U-_[2]+1+"")&&bt(c,l),x&4&&wt(i,_[2]),x&1&&g!==(g=_[0].replace(/\s/g,"&nbsp;")+"")&&p.p(g),x&2&&$!==($=JSON.stringify(_[1])+"")&&bt(N,$),x&22&&(Q=Array.from(kt(_[1],_[2])),M=Bt(M,x,_t,1,_,Q,P,k,Vt,Et,null,Ct)),x&8&&L!==(L=`--grid-columns:${_[3]};`)&&E(k,"style",L)},i:j,o:j,d(_){_&&et(e);for(let x=0;x<M.length;x+=1)M[x].d();q=!1,H(gt)}}}function pe(t,e,n){let r,o,s,l,c,u,i;I(t,at,a=>n(0,r=a)),I(t,rt,a=>n(1,o=a)),I(t,st,a=>n(12,s=a)),I(t,Gt,a=>n(13,l=a)),I(t,T,a=>n(2,c=a)),I(t,ae,a=>n(3,u=a)),I(t,de,a=>n(4,i=a));function h(a){Y(T,c+=a.deltaY<0?-1:1,c)}function f(a){if(!s)return;const{pointer:{x:S,y:C},position:$}=s,{clientX:N,clientY:m}=a,b=N-S,w=m-C;Y(rt,o={x:Math.floor($.x-b/l),y:Math.floor($.y-w/l)},o)}function d(a){Y(st,s={pointer:{x:a.clientX,y:a.clientY},position:o},s)}function p(){Y(st,s=!1,s)}function g(){Y(rt,o={x:0,y:0},o)}function A(){Y(at,r=prompt("New seed value",r)??r,r)}function v(){c=Dt(this.value),T.set(c)}return[r,o,c,u,i,h,f,d,p,g,A,v]}class me extends te{constructor(e){super(),Zt(this,e,pe,he,Pt,{})}}new me({target:document.body});
