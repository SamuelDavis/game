(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function j(){}function ze(e){return e()}function ge(){return Object.create(null)}function Y(e){e.forEach(ze)}function fe(e){return typeof e=="function"}function Oe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Pe(e){return Object.keys(e).length===0}function Le(e,...t){if(e==null)return j;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function X(e,t,n){e.$$.on_destroy.push(Le(t,n))}function ne(e,t,n){return e.set(n),t}function _(e,t){e.appendChild(t)}function ae(e,t,n){e.insertBefore(t,n||null)}function ee(e){e.parentNode&&e.parentNode.removeChild(e)}function A(e){return document.createElement(e)}function Te(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function J(e){return document.createTextNode(e)}function H(){return J(" ")}function G(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function P(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Fe(e){return e===""?null:+e}function He(e){return Array.from(e.childNodes)}function _e(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ye(e,t){e.value=t??""}class qe{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,o=null){this.e||(this.is_svg?this.e=Te(n.nodeName):this.e=A(n.nodeName),this.t=n,this.c(t)),this.i(o)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)ae(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(ee)}}let de;function R(e){de=e}const K=[],be=[],Q=[],we=[],De=Promise.resolve();let se=!1;function Ge(){se||(se=!0,De.then(je))}function ie(e){Q.push(e)}const oe=new Set;let W=0;function je(){const e=de;do{for(;W<K.length;){const t=K[W];W++,R(t),Ie(t.$$)}for(R(null),K.length=0,W=0;be.length;)be.pop()();for(let t=0;t<Q.length;t+=1){const n=Q[t];oe.has(n)||(oe.add(n),n())}Q.length=0}while(K.length);for(;we.length;)we.pop()();se=!1,oe.clear(),R(e)}function Ie(e){if(e.fragment!==null){e.update(),Y(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ie)}}const Je=new Set;function Ce(e,t){e&&e.i&&(Je.delete(e),e.i(t))}function Ye(e,t){e.d(1),t.delete(e.key)}function Xe(e,t,n,o,r,s,l,f,a,i,m,c){let d=e.length,u=s.length,p=d;const M={};for(;p--;)M[e[p].key]=p;const b=[],x=new Map,w=new Map;for(p=u;p--;){const h=c(r,s,p),y=n(h);let v=l.get(y);v?o&&v.p(h,t):(v=i(y,h),v.c()),x.set(y,b[p]=v),y in M&&w.set(y,Math.abs(p-M[y]))}const C=new Set,N=new Set;function z(h){Ce(h,1),h.m(f,m),l.set(h.key,h),m=h.first,u--}for(;d&&u;){const h=b[u-1],y=e[d-1],v=h.key,O=y.key;h===y?(m=h.first,d--,u--):x.has(O)?!l.has(v)||C.has(v)?z(h):N.has(O)?d--:w.get(v)>w.get(O)?(N.add(v),z(h)):(C.add(O),d--):(a(y,l),d--)}for(;d--;){const h=e[d];x.has(h.key)||a(h,l)}for(;u;)z(b[u-1]);return b}function Be(e,t,n,o){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),o||ie(()=>{const l=e.$$.on_mount.map(ze).filter(fe);e.$$.on_destroy?e.$$.on_destroy.push(...l):Y(l),e.$$.on_mount=[]}),s.forEach(ie)}function Ke(e,t){const n=e.$$;n.fragment!==null&&(Y(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Re(e,t){e.$$.dirty[0]===-1&&(K.push(e),Ge(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ue(e,t,n,o,r,s,l,f=[-1]){const a=de;R(e);const i=e.$$={fragment:null,ctx:[],props:s,update:j,not_equal:r,bound:ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:ge(),dirty:f,skip_bound:!1,root:t.target||a.$$.root};l&&l(i.root);let m=!1;if(i.ctx=n?n(e,t.props||{},(c,d,...u)=>{const p=u.length?u[0]:d;return i.ctx&&r(i.ctx[c],i.ctx[c]=p)&&(!i.skip_bound&&i.bound[c]&&i.bound[c](p),m&&Re(e,c)),d}):[],i.update(),m=!0,Y(i.before_update),i.fragment=o?o(i.ctx):!1,t.target){if(t.hydrate){const c=He(t.target);i.fragment&&i.fragment.l(c),c.forEach(ee)}else i.fragment&&i.fragment.c();t.intro&&Ce(e.$$.fragment),Be(e,t.target,t.anchor,t.customElement),je()}R(a)}class Ve{$destroy(){Ke(this,1),this.$destroy=j}$on(t,n){if(!fe(n))return j;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!Pe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Z=(e=>(e[e.High=0]="High",e[e.Middle=1]="Middle",e[e.Low=2]="Low",e))(Z||{});const We={[0]:.5,[1]:-.5,[2]:-1};function*ve(e,t=1){for(let n=e.y-t,o=e.y+t;n<=o;n++)for(let r=e.x-t,s=e.x+t;r<=s;r++)yield{x:r,y:n}}function $e(e,t){for(const[n,o]of Object.entries(We))if(e(t)>=o)return parseInt(n)}function xe(e){switch(e){case Z.High:return"lightgray";case Z.Middle:return"forestgreen";case Z.Low:return"dodgerblue"}}function Qe(e,t,n){return Math.max(e,Math.min(t,n))}const Se=Qe.bind(null,-1,1);function he(e,t){const n=localStorage.getItem(t);return n!==null&&e.set(JSON.parse(n)),e.subscribe(o=>localStorage.setItem(t,JSON.stringify(o))),e}const U=20,le=1,I=[];function Ze(e,t){return{subscribe:te(e,t).subscribe}}function te(e,t=j){let n;const o=new Set;function r(f){if(Oe(e,f)&&(e=f,n)){const a=!I.length;for(const i of o)i[1](),I.push(i,e);if(a){for(let i=0;i<I.length;i+=2)I[i][0](I[i+1]);I.length=0}}}function s(f){r(f(e))}function l(f,a=j){const i=[f,a];return o.add(i),o.size===1&&(n=t(r)||j),f(e),()=>{o.delete(i),o.size===0&&(n(),n=null)}}return{set:r,update:s,subscribe:l}}function Ee(e,t,n){const o=!Array.isArray(e),r=o?[e]:e,s=t.length<2;return Ze(n,l=>{let f=!1;const a=[];let i=0,m=j;const c=()=>{if(i)return;m();const u=t(o?a[0]:a,l);s?l(u):m=fe(u)?u:j},d=r.map((u,p)=>Le(u,M=>{a[p]=M,i&=~(1<<p),f&&c()},()=>{i|=1<<p}));return f=!0,c(),function(){Y(d),m()}})}var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce={},tt={get exports(){return ce},set exports(e){ce=e}};(function(e,t){(function(n,o){e.exports=o()})(et,function(){return n.importState=function(r){var s=new n;return s.importState(r),s},n;function n(){return function(r){var s=0,l=0,f=0,a=1;r.length==0&&(r=[+new Date]);var i=o();s=i(" "),l=i(" "),f=i(" ");for(var m=0;m<r.length;m++)s-=i(r[m]),s<0&&(s+=1),l-=i(r[m]),l<0&&(l+=1),f-=i(r[m]),f<0&&(f+=1);i=null;var c=function(){var d=2091639*s+a*23283064365386963e-26;return s=l,l=f,f=d-(a=d|0)};return c.next=c,c.uint32=function(){return c()*4294967296},c.fract53=function(){return c()+(c()*2097152|0)*11102230246251565e-32},c.version="Alea 0.9",c.args=r,c.exportState=function(){return[s,l,f,a]},c.importState=function(d){s=+d[0]||0,l=+d[1]||0,f=+d[2]||0,a=+d[3]||0},c}(Array.prototype.slice.call(arguments))}function o(){var r=4022871197,s=function(l){l=l.toString();for(var f=0;f<l.length;f++){r+=l.charCodeAt(f);var a=.02519603282416938*r;r=a>>>0,a-=r,a*=r,r=a>>>0,a-=r,r+=a*4294967296}return(r>>>0)*23283064365386963e-26};return s.version="Mash 0.9",s}})})(tt);const nt=ce,ot=.5*(Math.sqrt(3)-1),B=(3-Math.sqrt(3))/6,ke=e=>Math.floor(e)|0,Me=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function rt(e=Math.random){const t=st(e),n=new Float64Array(t).map(r=>Me[r%12*2]),o=new Float64Array(t).map(r=>Me[r%12*2+1]);return function(s,l){let f=0,a=0,i=0;const m=(s+l)*ot,c=ke(s+m),d=ke(l+m),u=(c+d)*B,p=c-u,M=d-u,b=s-p,x=l-M;let w,C;b>x?(w=1,C=0):(w=0,C=1);const N=b-w+B,z=x-C+B,h=b-1+2*B,y=x-1+2*B,v=c&255,O=d&255;let F=.5-b*b-x*x;if(F>=0){const L=v+t[O],E=n[L],T=o[L];F*=F,f=F*F*(E*b+T*x)}let k=.5-N*N-z*z;if(k>=0){const L=v+w+t[O+C],E=n[L],T=o[L];k*=k,a=k*k*(E*N+T*z)}let S=.5-h*h-y*y;if(S>=0){const L=v+1+t[O+1],E=n[L],T=o[L];S*=S,i=S*S*(E*h+T*y)}return 70*(f+a+i)}}function st(e){const n=new Uint8Array(512);for(let o=0;o<512/2;o++)n[o]=o;for(let o=0;o<512/2-1;o++){const r=o+~~(e()*(256-o)),s=n[o];n[o]=n[r],n[r]=s}for(let o=256;o<512;o++)n[o]=n[o-256];return n}const q=he(te(1),"zoom"),re=he(te({x:0,y:0}),"position");q.subscribe(e=>{if(e<le)return q.set(le);if(e>U)return q.set(U)});const it=Ee([q],([e])=>e*2+1),ue=he(te(Math.random().toString(36).slice(2)),"seed"),lt=Ee([ue],([e])=>{const t=nt(e),n=rt(t);return o=>n(o.x,o.y)});function Ae(e,t,n){const o=e.slice();return o[10]=t[n],o}function Ne(e,t){let n,o;return{key:e,first:null,c(){n=A("li"),P(n,"style",o=`--color:${xe($e(t[4],t[10]))}`),P(n,"class","svelte-athw6"),this.first=n},m(r,s){ae(r,n,s)},p(r,s){t=r,s&22&&o!==(o=`--color:${xe($e(t[4],t[10]))}`)&&P(n,"style",o)},d(r){r&&ee(n)}}}function ct(e){let t,n,o,r,s,l,f,a=U-e[2]+1+"",i,m,c,d,u,p=e[0].replace(/\s/g,"&nbsp;")+"",M,b,x,w,C,N=JSON.stringify(e[1])+"",z,h,y,v,O,F,k,S=[],L=new Map,E,T,me,V=Array.from(ve(e[1],e[2]));const pe=g=>`${g[10].x},${g[10].y}`;for(let g=0;g<V.length;g+=1){let $=Ae(e,V,g),D=pe($);L.set(D,S[g]=Ne(D,$))}return{c(){t=A("main"),n=A("header"),o=A("label"),r=J("zoom: "),s=A("input"),l=H(),f=A("output"),i=J(a),m=H(),c=A("span"),d=J("Seed: "),u=new qe(!1),M=H(),b=A("button"),b.textContent="change",x=H(),w=A("span"),C=J(`Position:
      `),z=J(N),h=H(),y=A("button"),y.textContent="reset",v=H(),O=A("hr"),F=H(),k=A("ol");for(let g=0;g<S.length;g+=1)S[g].c();P(s,"type","range"),P(s,"min",le),P(s,"max",U),u.a=M,P(n,"class","svelte-athw6"),P(k,"style",E=`--grid-columns:${e[3]};`),P(k,"class","svelte-athw6")},m(g,$){ae(g,t,$),_(t,n),_(n,o),_(o,r),_(o,s),ye(s,e[2]),_(o,l),_(o,f),_(f,i),_(n,m),_(n,c),_(c,d),u.m(p,c),_(c,M),_(c,b),_(n,x),_(n,w),_(w,C),_(w,z),_(w,h),_(w,y),_(t,v),_(t,O),_(t,F),_(t,k);for(let D=0;D<S.length;D+=1)S[D].m(k,null);T||(me=[G(window,"wheel",e[5]),G(s,"change",e[9]),G(s,"input",e[9]),G(b,"click",e[8]),G(y,"click",e[7]),G(k,"pointermove",e[6])],T=!0)},p(g,[$]){$&4&&ye(s,g[2]),$&4&&a!==(a=U-g[2]+1+"")&&_e(i,a),$&1&&p!==(p=g[0].replace(/\s/g,"&nbsp;")+"")&&u.p(p),$&2&&N!==(N=JSON.stringify(g[1])+"")&&_e(z,N),$&22&&(V=Array.from(ve(g[1],g[2])),S=Xe(S,$,pe,1,g,V,L,k,Ye,Ne,null,Ae)),$&8&&E!==(E=`--grid-columns:${g[3]};`)&&P(k,"style",E)},i:j,o:j,d(g){g&&ee(t);for(let $=0;$<S.length;$+=1)S[$].d();T=!1,Y(me)}}}function ut(e,t,n){let o,r,s,l,f;X(e,ue,u=>n(0,o=u)),X(e,re,u=>n(1,r=u)),X(e,q,u=>n(2,s=u)),X(e,it,u=>n(3,l=u)),X(e,lt,u=>n(4,f=u));function a(u){ne(q,s+=u.deltaY<0?-1:1,s)}const i=u=>{const{buttons:p,movementX:M,movementY:b}=u;p===1&&re.update(({x,y:w})=>({x:x+-Se(M),y:w+-Se(b)}))};function m(){ne(re,r={x:0,y:0},r)}function c(){ne(ue,o=prompt("New seed value",o)??o,o)}function d(){s=Fe(this.value),q.set(s)}return[o,r,s,l,f,a,i,m,c,d]}class ft extends Ve{constructor(t){super(),Ue(this,t,ut,ct,Oe,{})}}new ft({target:document.body});
