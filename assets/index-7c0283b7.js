(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function j(){}function _e(e){return e()}function ee(){return Object.create(null)}function I(e){e.forEach(_e)}function ye(e){return typeof e=="function"}function be(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Me(e){return Object.keys(e).length===0}function Ae(e,...t){if(e==null)return j;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function te(e,t,n){e.$$.on_destroy.push(Ae(t,n))}function K(e,t,n){return e.set(n),t}function w(e,t){e.appendChild(t)}function we(e,t,n){e.insertBefore(t,n||null)}function V(e){e.parentNode&&e.parentNode.removeChild(e)}function O(e){return document.createElement(e)}function D(e){return document.createTextNode(e)}function F(){return D(" ")}function J(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function L(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ne(e){return e===""?null:+e}function ze(e){return Array.from(e.childNodes)}function ne(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function oe(e,t){e.value=t??""}let Z;function H(e){Z=e}const G=[],re=[],X=[],se=[],Oe=Promise.resolve();let U=!1;function Le(){U||(U=!0,Oe.then($e))}function W(e){X.push(e)}const R=new Set;let Y=0;function $e(){const e=Z;do{for(;Y<G.length;){const t=G[Y];Y++,H(t),je(t.$$)}for(H(null),G.length=0,Y=0;re.length;)re.pop()();for(let t=0;t<X.length;t+=1){const n=X[t];R.has(n)||(R.add(n),n())}X.length=0}while(G.length);for(;se.length;)se.pop()();U=!1,R.clear(),H(e)}function je(e){if(e.fragment!==null){e.update(),I(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(W)}}const qe=new Set;function ve(e,t){e&&e.i&&(qe.delete(e),e.i(t))}function Ee(e,t){e.d(1),t.delete(e.key)}function Pe(e,t,n,s,o,r,i,u,f,l,p,a){let c=e.length,_=r.length,g=c;const A={};for(;g--;)A[e[g].key]=g;const $=[],k=new Map,N=new Map;for(g=_;g--;){const h=a(o,r,g),y=n(h);let b=i.get(y);b?s&&b.p(h,t):(b=l(y,h),b.c()),k.set(y,$[g]=b),y in A&&N.set(y,Math.abs(g-A[y]))}const v=new Set,x=new Set;function z(h){ve(h,1),h.m(u,p),i.set(h.key,h),p=h.first,_--}for(;c&&_;){const h=$[_-1],y=e[c-1],b=h.key,M=y.key;h===y?(p=h.first,c--,_--):k.has(M)?!i.has(b)||v.has(b)?z(h):x.has(M)?c--:N.get(b)>N.get(M)?(x.add(b),z(h)):(v.add(M),c--):(f(y,i),c--)}for(;c--;){const h=e[c];k.has(h.key)||f(h,i)}for(;_;)z($[_-1]);return $}function Ce(e,t,n,s){const{fragment:o,after_update:r}=e.$$;o&&o.m(t,n),s||W(()=>{const i=e.$$.on_mount.map(_e).filter(ye);e.$$.on_destroy?e.$$.on_destroy.push(...i):I(i),e.$$.on_mount=[]}),r.forEach(W)}function Fe(e,t){const n=e.$$;n.fragment!==null&&(I(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Je(e,t){e.$$.dirty[0]===-1&&(G.push(e),Le(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Te(e,t,n,s,o,r,i,u=[-1]){const f=Z;H(e);const l=e.$$={fragment:null,ctx:[],props:r,update:j,not_equal:o,bound:ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:ee(),dirty:u,skip_bound:!1,root:t.target||f.$$.root};i&&i(l.root);let p=!1;if(l.ctx=n?n(e,t.props||{},(a,c,..._)=>{const g=_.length?_[0]:c;return l.ctx&&o(l.ctx[a],l.ctx[a]=g)&&(!l.skip_bound&&l.bound[a]&&l.bound[a](g),p&&Je(e,a)),c}):[],l.update(),p=!0,I(l.before_update),l.fragment=s?s(l.ctx):!1,t.target){if(t.hydrate){const a=ze(t.target);l.fragment&&l.fragment.l(a),a.forEach(V)}else l.fragment&&l.fragment.c();t.intro&&ve(e.$$.fragment),Ce(e,t.target,t.anchor,t.customElement),$e()}H(f)}class De{$destroy(){Fe(this,1),this.$destroy=j}$on(t,n){if(!ye(n))return j;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const o=s.indexOf(n);o!==-1&&s.splice(o,1)}}$set(t){this.$$set&&!Me(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const E=[];function ie(e,t=j){let n;const s=new Set;function o(u){if(be(e,u)&&(e=u,n)){const f=!E.length;for(const l of s)l[1](),E.push(l,e);if(f){for(let l=0;l<E.length;l+=2)E[l][0](E[l+1]);E.length=0}}}function r(u){o(u(e))}function i(u,f=j){const l=[u,f];return s.add(l),s.size===1&&(n=t(o)||j),u(e),()=>{s.delete(l),s.size===0&&(n(),n=null)}}return{set:o,update:r,subscribe:i}}const Ge=.5*(Math.sqrt(3)-1),T=(3-Math.sqrt(3))/6,le=e=>Math.floor(e)|0,ce=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function He(e=Math.random){const t=Ie(e),n=new Float64Array(t).map(o=>ce[o%12*2]),s=new Float64Array(t).map(o=>ce[o%12*2+1]);return function(r,i){let u=0,f=0,l=0;const p=(r+i)*Ge,a=le(r+p),c=le(i+p),_=(a+c)*T,g=a-_,A=c-_,$=r-g,k=i-A;let N,v;$>k?(N=1,v=0):(N=0,v=1);const x=$-N+T,z=k-v+T,h=$-1+2*T,y=k-1+2*T,b=a&255,M=c&255;let q=.5-$*$-k*k;if(q>=0){const S=b+t[M],P=n[S],C=s[S];q*=q,u=q*q*(P*$+C*k)}let d=.5-x*x-z*z;if(d>=0){const S=b+N+t[M+v],P=n[S],C=s[S];d*=d,f=d*d*(P*x+C*z)}let m=.5-h*h-y*y;if(m>=0){const S=b+1+t[M+1],P=n[S],C=s[S];m*=m,l=m*m*(P*h+C*y)}return 70*(u+f+l)}}function Ie(e){const n=new Uint8Array(512);for(let s=0;s<512/2;s++)n[s]=s;for(let s=0;s<512/2-1;s++){const o=s+~~(e()*(256-s)),r=n[s];n[s]=n[o],n[o]=r}for(let s=256;s<512;s++)n[s]=n[s-256];return n}var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q={},Xe={get exports(){return Q},set exports(e){Q=e}};(function(e,t){(function(n,s){e.exports=s()})(Ye,function(){return n.importState=function(o){var r=new n;return r.importState(o),r},n;function n(){return function(o){var r=0,i=0,u=0,f=1;o.length==0&&(o=[+new Date]);var l=s();r=l(" "),i=l(" "),u=l(" ");for(var p=0;p<o.length;p++)r-=l(o[p]),r<0&&(r+=1),i-=l(o[p]),i<0&&(i+=1),u-=l(o[p]),u<0&&(u+=1);l=null;var a=function(){var c=2091639*r+f*23283064365386963e-26;return r=i,i=u,u=c-(f=c|0)};return a.next=a,a.uint32=function(){return a()*4294967296},a.fract53=function(){return a()+(a()*2097152|0)*11102230246251565e-32},a.version="Alea 0.9",a.args=o,a.exportState=function(){return[r,i,u,f]},a.importState=function(c){r=+c[0]||0,i=+c[1]||0,u=+c[2]||0,f=+c[3]||0},a}(Array.prototype.slice.call(arguments))}function s(){var o=4022871197,r=function(i){i=i.toString();for(var u=0;u<i.length;u++){o+=i.charCodeAt(u);var f=.02519603282416938*o;o=f>>>0,f-=o,f*=o,o=f>>>0,f-=o,o+=f*4294967296}return(o>>>0)*23283064365386963e-26};return r.version="Mash 0.9",r}})})(Xe);const Be=Q;var B=(e=>(e[e.High=0]="High",e[e.Middle=1]="Middle",e[e.Low=2]="Low",e))(B||{});const Ke={[0]:.5,[1]:-.5,[2]:-1},Re=Be("seed"),Ue=He(Re);function We(e){return Ue(e.x,e.y)}function*ue(e,t=1){for(let n=e.y-t,s=e.y+t;n<=s;n++)for(let o=e.x-t,r=e.x+t;o<=r;o++)yield{x:o,y:n}}function fe(e){for(const[t,n]of Object.entries(Ke))if(We(e)>=n)return parseInt(t)}function ae(e){switch(e){case B.High:return"slategray";case B.Middle:return"forestgreen";case B.Low:return"skyblue"}}function xe(e,t,n){return Math.max(e,Math.min(t,n))}const de=xe.bind(null,-1,1);function he(e,t){return JSON.parse(window.localStorage.getItem(e)??JSON.stringify(t))}function pe(e,t){return window.localStorage.setItem(e,JSON.stringify(t))}function me(e,t,n){const s=e.slice();return s[9]=t[n],s}function ge(e,t){let n,s;return{key:e,first:null,c(){n=O("li"),L(n,"style",s=`--color:${ae(fe(t[9]))}`),L(n,"class","svelte-1qpo70g"),this.first=n},m(o,r){we(o,n,r)},p(o,r){t=o,r&5&&s!==(s=`--color:${ae(fe(t[9]))}`)&&L(n,"style",s)},d(o){o&&V(n)}}}function Qe(e){let t,n,s,o,r,i,u,f,l,p,a,c,_,g=JSON.stringify(e[2])+"",A,$,k,N,v,x=[],z=new Map,h,y,b,M=Array.from(ue(e[2],e[0]));const q=d=>`${d[9].x},${d[9].y}`;for(let d=0;d<M.length;d+=1){let m=me(e,M,d),S=q(m);z.set(S,x[d]=ge(S,m))}return{c(){t=O("main"),n=O("header"),s=O("label"),o=D("zoom: "),r=O("input"),i=F(),u=O("output"),f=D(e[0]),l=F(),p=O("button"),p.textContent="reset",a=F(),c=O("label"),_=D(`Position:
      `),A=D(g),$=F(),k=O("hr"),N=F(),v=O("ol");for(let d=0;d<x.length;d+=1)x[d].c();L(r,"type","range"),L(r,"min",Se),L(r,"max",ke),L(n,"class","svelte-1qpo70g"),L(v,"style",h=`--basis:${e[1]};`),L(v,"class","svelte-1qpo70g")},m(d,m){we(d,t,m),w(t,n),w(n,s),w(s,o),w(s,r),oe(r,e[0]),w(s,i),w(s,u),w(u,f),w(n,l),w(n,p),w(n,a),w(n,c),w(c,_),w(c,A),w(t,$),w(t,k),w(t,N),w(t,v);for(let S=0;S<x.length;S+=1)x[S].m(v,null);y||(b=[J(window,"wheel",e[5]),J(r,"change",e[8]),J(r,"input",e[8]),J(p,"click",e[7]),J(v,"pointermove",e[6])],y=!0)},p(d,[m]){m&1&&oe(r,d[0]),m&1&&ne(f,d[0]),m&4&&g!==(g=JSON.stringify(d[2])+"")&&ne(A,g),m&5&&(M=Array.from(ue(d[2],d[0])),x=Pe(x,m,q,1,d,M,z,v,Ee,ge,null,me)),m&2&&h!==(h=`--basis:${d[1]};`)&&L(v,"style",h)},i:j,o:j,d(d){d&&V(t);for(let m=0;m<x.length;m+=1)x[m].d();y=!1,I(b)}}}const ke=20,Se=1;function Ve(e,t,n){let s,o,r;const i=ie(he("zoom",1));te(e,i,c=>n(0,r=c)),i.subscribe(c=>pe("zoom",c));const u=ie(he("position",{x:0,y:0}));te(e,u,c=>n(2,o=c)),u.subscribe(c=>pe("position",c));function f(c){K(i,r+=c.deltaY<0?-1:1,r)}const l=c=>{const{buttons:_,movementX:g,movementY:A}=c;_===1&&u.update(({x:$,y:k})=>({x:$+-de(g),y:k+-de(A)}))};function p(){K(u,o={x:0,y:0},o)}function a(){r=Ne(this.value),i.set(r)}return e.$$.update=()=>{e.$$.dirty&1&&K(i,r=xe(Se,ke,r),r),e.$$.dirty&1&&n(1,s=r*2+1)},[r,s,o,i,u,f,l,p,a]}class Ze extends De{constructor(t){super(),Te(this,t,Ve,Qe,be,{})}}new Ze({target:document.body});
