(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function P(){}function Ot(t){return t()}function _t(){return Object.create(null)}function W(t){t.forEach(Ot)}function ft(t){return typeof t=="function"}function Pt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function qt(t){return Object.keys(t).length===0}function jt(t,...e){if(t==null)return P;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function X(t,e,n){t.$$.on_destroy.push(jt(e,n))}function et(t,e,n){return t.set(n),e}function _(t,e){t.appendChild(e)}function dt(t,e,n){t.insertBefore(e,n||null)}function Z(t){t.parentNode&&t.parentNode.removeChild(t)}function N(t){return document.createElement(t)}function Ft(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Y(t){return document.createTextNode(t)}function q(){return Y(" ")}function D(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function A(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function It(t){return t===""?null:+t}function Dt(t){return Array.from(t.childNodes)}function yt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function bt(t,e){t.value=e??""}class Jt{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=Ft(n.nodeName):this.e=N(n.nodeName),this.t=n,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)dt(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Z)}}let ht;function B(t){ht=t}const V=[],wt=[],Q=[],vt=[],Yt=Promise.resolve();let st=!1;function Wt(){st||(st=!0,Yt.then(Lt))}function it(t){Q.push(t)}const nt=new Set;let U=0;function Lt(){const t=ht;do{for(;U<V.length;){const e=V[U];U++,B(e),Xt(e.$$)}for(B(null),V.length=0,U=0;wt.length;)wt.pop()();for(let e=0;e<Q.length;e+=1){const n=Q[e];nt.has(n)||(nt.add(n),n())}Q.length=0}while(V.length);for(;vt.length;)vt.pop()();st=!1,nt.clear(),B(t)}function Xt(t){if(t.fragment!==null){t.update(),W(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(it)}}const Ht=new Set;function Gt(t,e){t&&t.i&&(Ht.delete(t),t.i(e))}function Vt(t,e){t.d(1),e.delete(t.key)}function Bt(t,e,n,o,r,s,l,c,u,i,h,a){let d=t.length,f=s.length,p=d;const k={};for(;p--;)k[t[p].key]=p;const b=[],S=new Map,w=new Map;for(p=f;p--;){const m=a(r,s,p),y=n(m);let v=l.get(y);v?o&&v.p(m,e):(v=i(y,m),v.c()),S.set(y,b[p]=v),y in k&&w.set(y,Math.abs(p-k[y]))}const j=new Set,z=new Set;function C(m){Gt(m,1),m.m(c,h),l.set(m.key,m),h=m.first,f--}for(;d&&f;){const m=b[f-1],y=t[d-1],v=m.key,E=y.key;m===y?(h=m.first,d--,f--):S.has(E)?!l.has(v)||j.has(v)?C(m):z.has(E)?d--:w.get(v)>w.get(E)?(z.add(v),C(m)):(j.add(E),d--):(u(y,l),d--)}for(;d--;){const m=t[d];S.has(m.key)||u(m,l)}for(;f;)C(b[f-1]);return b}function Kt(t,e,n,o){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),o||it(()=>{const l=t.$$.on_mount.map(Ot).filter(ft);t.$$.on_destroy?t.$$.on_destroy.push(...l):W(l),t.$$.on_mount=[]}),s.forEach(it)}function Rt(t,e){const n=t.$$;n.fragment!==null&&(W(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ut(t,e){t.$$.dirty[0]===-1&&(V.push(t),Wt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Qt(t,e,n,o,r,s,l,c=[-1]){const u=ht;B(t);const i=t.$$={fragment:null,ctx:[],props:s,update:P,not_equal:r,bound:_t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:_t(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};l&&l(i.root);let h=!1;if(i.ctx=n?n(t,e.props||{},(a,d,...f)=>{const p=f.length?f[0]:d;return i.ctx&&r(i.ctx[a],i.ctx[a]=p)&&(!i.skip_bound&&i.bound[a]&&i.bound[a](p),h&&Ut(t,a)),d}):[],i.update(),h=!0,W(i.before_update),i.fragment=o?o(i.ctx):!1,e.target){if(e.hydrate){const a=Dt(e.target);i.fragment&&i.fragment.l(a),a.forEach(Z)}else i.fragment&&i.fragment.c();e.intro&&Gt(t.$$.fragment),Kt(t,e.target,e.anchor,e.customElement),Lt()}B(u)}class Zt{$destroy(){Rt(this,1),this.$destroy=P}$on(e,n){if(!ft(n))return P;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!qt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const lt=["height","temperature","humidity"],ot=new Map([["Water",[0,28,80]],["Grass",[124,252,0]],["Sand",[194,178,128]]]);function te(t,e,n){return Math.max(t,Math.min(e,n))}const $t=te.bind(null,-1,1);function mt(t,e){const n=localStorage.getItem(e);return n!==null&&t.set(JSON.parse(n)),t.subscribe(o=>localStorage.setItem(e,JSON.stringify(o))),t}function St(t){return JSON.stringify(lt.reduce((e,n)=>({...e,[n]:t.get(n).toString().slice(2,4)}),{}),null,2)}function ee(t){return(t+1)/2}function xt(t,e){return Math.floor(t*e)}function Mt(t,...e){const n=e.length,o=1/(n-1);let r=Math.floor(t/o),s=r+1;s>=n&&(s=r);const l=r*o,c=s*o,u=e[r],i=e[s],h=(t-l)/(c-l);return(1-h)*u+h*i}function ne([t,e,n]){return(Math.atan2(Math.sqrt(3)*(e-n),2*t-e-n)*180/Math.PI+360)%360}function*kt(t,e=1){for(let n=t.y-e,o=t.y+e;n<=o;n++)for(let r=t.x-e,s=t.x+e;r<=s;r++)yield{x:r,y:n}}function Nt(t){const e=t.get("height"),n=t.get("temperature"),o=t.get("humidity"),r=ne(ot.get("Water").map((c,u)=>Mt(o,ot.get("Sand")[u],ot.get("Grass")[u],c))),s=xt(n,100),l=xt(Mt(e,.3,.8),100);return`hsl(${r},${s}%,${l}%)`}const K=20,ct=1,J=[];function oe(t,e){return{subscribe:tt(t,e).subscribe}}function tt(t,e=P){let n;const o=new Set;function r(c){if(Pt(t,c)&&(t=c,n)){const u=!J.length;for(const i of o)i[1](),J.push(i,t);if(u){for(let i=0;i<J.length;i+=2)J[i][0](J[i+1]);J.length=0}}}function s(c){r(c(t))}function l(c,u=P){const i=[c,u];return o.add(i),o.size===1&&(n=e(r)||P),c(t),()=>{o.delete(i),o.size===0&&(n(),n=null)}}return{set:r,update:s,subscribe:l}}function Tt(t,e,n){const o=!Array.isArray(t),r=o?[t]:t,s=e.length<2;return oe(n,l=>{let c=!1;const u=[];let i=0,h=P;const a=()=>{if(i)return;h();const f=e(o?u[0]:u,l);s?l(f):h=ft(f)?f:P},d=r.map((f,p)=>jt(f,k=>{u[p]=k,i&=~(1<<p),c&&a()},()=>{i|=1<<p}));return c=!0,a(),function(){W(d),h()}})}var re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ut={},se={get exports(){return ut},set exports(t){ut=t}};(function(t,e){(function(n,o){t.exports=o()})(re,function(){return n.importState=function(r){var s=new n;return s.importState(r),s},n;function n(){return function(r){var s=0,l=0,c=0,u=1;r.length==0&&(r=[+new Date]);var i=o();s=i(" "),l=i(" "),c=i(" ");for(var h=0;h<r.length;h++)s-=i(r[h]),s<0&&(s+=1),l-=i(r[h]),l<0&&(l+=1),c-=i(r[h]),c<0&&(c+=1);i=null;var a=function(){var d=2091639*s+u*23283064365386963e-26;return s=l,l=c,c=d-(u=d|0)};return a.next=a,a.uint32=function(){return a()*4294967296},a.fract53=function(){return a()+(a()*2097152|0)*11102230246251565e-32},a.version="Alea 0.9",a.args=r,a.exportState=function(){return[s,l,c,u]},a.importState=function(d){s=+d[0]||0,l=+d[1]||0,c=+d[2]||0,u=+d[3]||0},a}(Array.prototype.slice.call(arguments))}function o(){var r=4022871197,s=function(l){l=l.toString();for(var c=0;c<l.length;c++){r+=l.charCodeAt(c);var u=.02519603282416938*r;r=u>>>0,u-=r,u*=r,r=u>>>0,u-=r,r+=u*4294967296}return(r>>>0)*23283064365386963e-26};return s.version="Mash 0.9",s}})})(se);const ie=ut,le=.5*(Math.sqrt(3)-1),H=(3-Math.sqrt(3))/6,At=t=>Math.floor(t)|0,zt=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function ce(t=Math.random){const e=ue(t),n=new Float64Array(e).map(r=>zt[r%12*2]),o=new Float64Array(e).map(r=>zt[r%12*2+1]);return function(s,l){let c=0,u=0,i=0;const h=(s+l)*le,a=At(s+h),d=At(l+h),f=(a+d)*H,p=a-f,k=d-f,b=s-p,S=l-k;let w,j;b>S?(w=1,j=0):(w=0,j=1);const z=b-w+H,C=S-j+H,m=b-1+2*H,y=S-1+2*H,v=a&255,E=d&255;let T=.5-b*b-S*S;if(T>=0){const O=v+e[E],L=n[O],G=o[O];T*=T,c=T*T*(L*b+G*S)}let M=.5-z*z-C*C;if(M>=0){const O=v+w+e[E+j],L=n[O],G=o[O];M*=M,u=M*M*(L*z+G*C)}let x=.5-m*m-y*y;if(x>=0){const O=v+1+e[E+1],L=n[O],G=o[O];x*=x,i=x*x*(L*m+G*y)}return 70*(c+u+i)}}function ue(t){const n=new Uint8Array(512);for(let o=0;o<512/2;o++)n[o]=o;for(let o=0;o<512/2-1;o++){const r=o+~~(t()*(256-o)),s=n[o];n[o]=n[r],n[r]=s}for(let o=256;o<512;o++)n[o]=n[o-256];return n}const F=mt(tt(1),"zoom"),rt=mt(tt({x:0,y:0}),"position");F.subscribe(t=>{if(t<ct)return F.set(ct);if(t>K)return F.set(K)});const ae=Tt([F],([t])=>t*2+1),at=mt(tt(Math.random().toString(36).slice(2)),"seed"),fe=Tt([at],([t])=>{const e=lt.map(n=>ce(ie(t+n)));return function(n){return e.reduce((o,r,s)=>o.set(lt[s],ee(r(n.x,n.y))),new Map)}});function Ct(t,e,n){const o=t.slice();return o[10]=e[n],o}function Et(t,e){let n,o,r;return{key:t,first:null,c(){n=N("li"),A(n,"style",o=`--color:${Nt(e[4](e[10]))};`),A(n,"title",r=St(e[4](e[10]))),A(n,"class","svelte-1mn2nfr"),this.first=n},m(s,l){dt(s,n,l)},p(s,l){e=s,l&22&&o!==(o=`--color:${Nt(e[4](e[10]))};`)&&A(n,"style",o),l&22&&r!==(r=St(e[4](e[10])))&&A(n,"title",r)},d(s){s&&Z(n)}}}function de(t){let e,n,o,r,s,l=K-t[2]+1+"",c,u,i,h,a,d,f,p=t[0].replace(/\s/g,"&nbsp;")+"",k,b,S,w,j,z=JSON.stringify(t[1])+"",C,m,y,v,E,T,M,x=[],O=new Map,L,G,pt,R=Array.from(kt(t[1],t[2]));const gt=g=>`${g[10].x},${g[10].y}`;for(let g=0;g<R.length;g+=1){let $=Ct(t,R,g),I=gt($);O.set(I,x[g]=Et(I,$))}return{c(){e=N("main"),n=N("header"),o=N("label"),r=Y("zoom: "),s=N("output"),c=Y(l),u=q(),i=N("input"),h=q(),a=N("span"),d=Y("Seed: "),f=new Jt(!1),k=q(),b=N("button"),b.textContent="change",S=q(),w=N("span"),j=Y(`Position:
      `),C=Y(z),m=q(),y=N("button"),y.textContent="reset",v=q(),E=N("hr"),T=q(),M=N("ol");for(let g=0;g<x.length;g+=1)x[g].c();A(i,"type","range"),A(i,"min",ct),A(i,"max",K),f.a=k,A(n,"class","svelte-1mn2nfr"),A(M,"style",L=`--grid-columns:${t[3]};`),A(M,"class","svelte-1mn2nfr")},m(g,$){dt(g,e,$),_(e,n),_(n,o),_(o,r),_(o,s),_(s,c),_(o,u),_(o,i),bt(i,t[2]),_(n,h),_(n,a),_(a,d),f.m(p,a),_(a,k),_(a,b),_(n,S),_(n,w),_(w,j),_(w,C),_(w,m),_(w,y),_(e,v),_(e,E),_(e,T),_(e,M);for(let I=0;I<x.length;I+=1)x[I].m(M,null);G||(pt=[D(window,"wheel",t[5]),D(i,"change",t[9]),D(i,"input",t[9]),D(b,"click",t[8]),D(y,"click",t[7]),D(M,"pointermove",t[6])],G=!0)},p(g,[$]){$&4&&l!==(l=K-g[2]+1+"")&&yt(c,l),$&4&&bt(i,g[2]),$&1&&p!==(p=g[0].replace(/\s/g,"&nbsp;")+"")&&f.p(p),$&2&&z!==(z=JSON.stringify(g[1])+"")&&yt(C,z),$&22&&(R=Array.from(kt(g[1],g[2])),x=Bt(x,$,gt,1,g,R,O,M,Vt,Et,null,Ct)),$&8&&L!==(L=`--grid-columns:${g[3]};`)&&A(M,"style",L)},i:P,o:P,d(g){g&&Z(e);for(let $=0;$<x.length;$+=1)x[$].d();G=!1,W(pt)}}}function he(t,e,n){let o,r,s,l,c;X(t,at,f=>n(0,o=f)),X(t,rt,f=>n(1,r=f)),X(t,F,f=>n(2,s=f)),X(t,ae,f=>n(3,l=f)),X(t,fe,f=>n(4,c=f));function u(f){et(F,s+=f.deltaY<0?-1:1,s)}const i=f=>{const{buttons:p,movementX:k,movementY:b}=f;p===1&&rt.update(({x:S,y:w})=>({x:S+-$t(k),y:w+-$t(b)}))};function h(){et(rt,r={x:0,y:0},r)}function a(){et(at,o=prompt("New seed value",o)??o,o)}function d(){s=It(this.value),F.set(s)}return[o,r,s,l,c,u,i,h,a,d]}class me extends Zt{constructor(e){super(),Qt(this,e,he,de,Pt,{})}}new me({target:document.body});
